<% content_for :title, "Primes Services IA - Expert en subsides belges" %>
<% content_for :description, "Assistant IA spÃ©cialisÃ© en primes et subsides belges. 324 subsides rÃ©fÃ©rencÃ©s, calculs instantanÃ©s, accompagnement expert. Wallonie, Flandre, Bruxelles." %>

<!-- Hero Section PWA -->
<section class="bg-gradient-to-br from-blue-600 via-blue-700 to-green-600 text-white py-16 lg:py-24">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <!-- Contenu principal -->
      <div class="text-center lg:text-left">
        <h1 class="text-4xl lg:text-6xl font-bold leading-tight mb-6">
          L'IA qui connaÃ®t tous vos
          <span class="text-yellow-300">subsides</span>
        </h1>

        <p class="text-xl lg:text-2xl mb-8 text-blue-100">
          Assistant intelligent spÃ©cialisÃ© en <strong>primes belges</strong><br>
          324 subsides â€¢ Calculs instantanÃ©s â€¢ Accompagnement expert
        </p>

        <!-- Statistiques en temps rÃ©el -->
        <div class="grid grid-cols-3 gap-4 mb-8 text-center">
          <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
            <div class="text-2xl font-bold text-yellow-300">68Mâ‚¬</div>
            <div class="text-sm text-blue-100">Primes obtenues</div>
          </div>
          <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
            <div class="text-2xl font-bold text-yellow-300">4.476</div>
            <div class="text-sm text-blue-100">Dossiers traitÃ©s</div>
          </div>
          <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
            <div class="text-2xl font-bold text-yellow-300">15 ans</div>
            <div class="text-sm text-blue-100">D'expertise</div>
          </div>
        </div>

        <!-- CTA Principal -->
        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center lg:justify-start">
          <%= link_to ai_chat_path,
              class: "block sm:inline-block bg-yellow-400 text-blue-900 px-8 py-4 rounded-lg font-bold text-lg hover:bg-yellow-300 transition-colors shadow-lg" do %>
            ğŸ¤– Discuter avec l'IA
          <% end %>

          <button
            id="pwa-install-button"
            class="block sm:inline-block bg-white/10 backdrop-blur-sm text-white px-8 py-4 rounded-lg font-semibold hover:bg-white/20 transition-colors border border-white/20"
            style="display: none;"
          >
            ğŸ“± Installer l'app
          </button>
        </div>

        <!-- DÃ©tection mobile â†’ Prompt installation -->
        <div class="mt-6 text-center lg:text-left">
          <p class="text-blue-100 text-sm">
            ğŸ’¡ Installez l'application pour un accÃ¨s rapide et des notifications personnalisÃ©es
          </p>
        </div>
      </div>

      <!-- Demo IA en temps rÃ©el -->
      <div class="bg-white rounded-2xl shadow-2xl p-6 text-gray-800">
        <div class="flex items-center space-x-3 mb-4">
          <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center">
            <span class="text-white text-lg">ğŸ¤–</span>
          </div>
          <div>
            <h3 class="font-semibold">Assistant Primes Services</h3>
            <p class="text-sm text-gray-600">En ligne â€¢ RÃ©pond instantanÃ©ment</p>
          </div>
        </div>

        <!-- Messages de demo -->
        <div class="space-y-3 mb-4 max-h-60 overflow-y-auto">
          <div class="flex justify-end">
            <div class="bg-blue-500 text-white rounded-lg px-3 py-2 text-sm max-w-xs">
              Combien puis-je avoir pour isoler ma maison Ã  LiÃ¨ge ?
            </div>
          </div>

          <div class="flex justify-start">
            <div class="bg-gray-100 rounded-lg px-3 py-2 text-sm max-w-xs">
              Ã€ LiÃ¨ge (Wallonie), vous pouvez obtenir jusqu'Ã  <strong>6 000â‚¬</strong> pour l'isolation !
              Voulez-vous que je calcule votre montant exact ?

              <div class="mt-2 space-x-2">
                <button class="bg-blue-500 text-white px-2 py-1 rounded text-xs">Calculer</button>
                <button class="bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs">En savoir plus</button>
              </div>
            </div>
          </div>
        </div>

        <%= link_to ai_chat_path,
            class: "block w-full bg-blue-500 text-white text-center py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors" do %>
          Commencer la conversation â†’
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- Section IA Assistant Preview -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">
        Pourquoi notre IA est diffÃ©rente ?
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Contrairement aux IA gÃ©nÃ©riques, notre assistant connaÃ®t parfaitement les spÃ©cificitÃ©s belges
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Expertise locale -->
      <div class="bg-white rounded-xl p-6 shadow-lg text-center">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
          ğŸ‡§ğŸ‡ª
        </div>
        <h3 class="text-xl font-semibold mb-3">Expertise 100% belge</h3>
        <p class="text-gray-600">
          <strong>324 subsides</strong> rÃ©fÃ©rencÃ©s avec mise Ã  jour rÃ©glementaire en temps rÃ©el.
          SpÃ©cialisÃ© Wallonie, Flandre, Bruxelles.
        </p>
      </div>

      <!-- Calculs prÃ©cis -->
      <div class="bg-white rounded-xl p-6 shadow-lg text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          ğŸ’°
        </div>
        <h3 class="text-xl font-semibold mb-3">Calculs instantanÃ©s</h3>
        <p class="text-gray-600">
          Montants exacts selon votre situation, rÃ©gion et type de travaux.
          <strong>Fini les estimations approximatives.</strong>
        </p>
      </div>

      <!-- Accompagnement humain -->
      <div class="bg-white rounded-xl p-6 shadow-lg text-center">
        <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
          ğŸ‘¥
        </div>
        <h3 class="text-xl font-semibold mb-3">Ã‰quipe d'experts</h3>
        <p class="text-gray-600">
          L'IA vous guide, nos experts vous accompagnent.
          <strong>15 ans d'expÃ©rience</strong> Ã  votre service.
        </p>
      </div>
    </div>

    <!-- Comparaison vs ChatGPT -->
    <div class="mt-12 bg-white rounded-xl p-8 shadow-lg">
      <h3 class="text-2xl font-bold text-center mb-8">Notre IA vs IA GÃ©nÃ©raliste</h3>

      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h4 class="font-semibold text-green-600 mb-4">âœ… Assistant Primes Services</h4>
          <ul class="space-y-2 text-gray-700">
            <li>â€¢ Base de donnÃ©es officielle des 324 subsides</li>
            <li>â€¢ Mise Ã  jour rÃ©glementaire temps rÃ©el</li>
            <li>â€¢ Calculs prÃ©cis par rÃ©gion belge</li>
            <li>â€¢ Accompagnement humain expert</li>
            <li>â€¢ Workflow complet jusqu'au dÃ©pÃ´t</li>
          </ul>
        </div>

        <div>
          <h4 class="font-semibold text-red-600 mb-4">âŒ ChatGPT / IA GÃ©nÃ©raliste</h4>
          <ul class="space-y-2 text-gray-700">
            <li>â€¢ Informations gÃ©nÃ©rales et parfois obsolÃ¨tes</li>
            <li>â€¢ Pas de mise Ã  jour en temps rÃ©el</li>
            <li>â€¢ Calculs approximatifs ou inexacts</li>
            <li>â€¢ Aucun accompagnement personnalisÃ©</li>
            <li>â€¢ Information uniquement, pas d'action</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Profils Clients Interactifs -->
<section class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">
        Votre profil, votre accompagnement
      </h2>
      <p class="text-xl text-gray-600">
        Des solutions personnalisÃ©es selon votre situation
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
      <!-- Particuliers -->
      <div class="group bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 hover:shadow-xl transition-all duration-300 cursor-pointer">
        <div class="text-center">
          <div class="w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
            <span class="text-white text-2xl">ğŸ </span>
          </div>
          <h3 class="text-xl font-semibold mb-3 text-blue-900">Particuliers</h3>
          <p class="text-blue-700 text-sm mb-4">
            Isolation, chauffage, rÃ©novation de votre logement
          </p>

          <div class="space-y-2">
            <%= link_to ai_chat_path(user_type: 'particulier'),
                class: "block bg-blue-500 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors" do %>
              ğŸ¤– Discuter avec l'IA
            <% end %>

            <button class="w-full bg-white text-blue-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors">
              ğŸ“‹ Formulaire spÃ©cialisÃ©
            </button>

            <button class="w-full bg-blue-200 text-blue-800 py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-300 transition-colors">
              ğŸ”„ Vers Ren0vate
            </button>
          </div>
        </div>
      </div>

      <!-- ACP -->
      <div class="group bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 hover:shadow-xl transition-all duration-300 cursor-pointer">
        <div class="text-center">
          <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
            <span class="text-white text-2xl">ğŸ¢</span>
          </div>
          <h3 class="text-xl font-semibold mb-3 text-green-900">CopropriÃ©tÃ©s</h3>
          <p class="text-green-700 text-sm mb-4">
            FaÃ§ades, toitures, chauffage collectif
          </p>

          <div class="space-y-2">
            <%= link_to ai_chat_path(user_type: 'acp'),
                class: "block bg-green-500 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-green-600 transition-colors" do %>
              ğŸ¤– Discuter avec l'IA
            <% end %>

            <button class="w-full bg-white text-green-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-green-50 transition-colors">
              ğŸ“‹ Formulaire ACP
            </button>

            <button class="w-full bg-green-200 text-green-800 py-2 px-4 rounded-lg text-sm font-medium hover:bg-green-300 transition-colors">
              ğŸ”„ Vers Ren0vate
            </button>
          </div>
        </div>
      </div>

      <!-- Entreprises ImmobiliÃ¨res -->
      <div class="group bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 hover:shadow-xl transition-all duration-300 cursor-pointer">
        <div class="text-center">
          <div class="w-20 h-20 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
            <span class="text-white text-2xl">ğŸ—ï¸</span>
          </div>
          <h3 class="text-xl font-semibold mb-3 text-purple-900">Entreprises Immo</h3>
          <p class="text-purple-700 text-sm mb-4">
            Promotion, gestion, rÃ©novation
          </p>

          <div class="space-y-2">
            <%= link_to ai_chat_path(user_type: 'entreprise_immo'),
                class: "block bg-purple-500 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-purple-600 transition-colors" do %>
              ğŸ¤– Discuter avec l'IA
            <% end %>

            <button class="w-full bg-white text-purple-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-purple-50 transition-colors">
              ğŸ“‹ Formulaire Pro
            </button>

            <button class="w-full bg-purple-200 text-purple-800 py-2 px-4 rounded-lg text-sm font-medium hover:bg-purple-300 transition-colors">
              ğŸ”„ Vers Ren0vate
            </button>
          </div>
        </div>
      </div>

      <!-- Entreprises Commerciales -->
      <div class="group bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6 hover:shadow-xl transition-all duration-300 cursor-pointer">
        <div class="text-center">
          <div class="w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
            <span class="text-white text-2xl">ğŸ­</span>
          </div>
          <h3 class="text-xl font-semibold mb-3 text-orange-900">Entreprises</h3>
          <p class="text-orange-700 text-sm mb-4">
            Ã‰quipements, bÃ¢timents, R&D
          </p>

          <div class="space-y-2">
            <%= link_to ai_chat_path(user_type: 'entreprise_comm'),
                class: "block bg-orange-500 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors" do %>
              ğŸ¤– Discuter avec l'IA
            <% end %>

            <button class="w-full bg-white text-orange-500 py-2 px-4 rounded-lg text-sm font-medium hover:bg-orange-50 transition-colors">
              ğŸ“‹ Formulaire Business
            </button>

            <button class="w-full bg-orange-200 text-orange-800 py-2 px-4 rounded-lg text-sm font-medium hover:bg-orange-300 transition-colors">
              ğŸ”„ Vers Ren0vate
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PWA Features Showcase -->
<section class="py-16 bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold mb-4">
        ğŸ“± L'application qui rÃ©volutionne les primes
      </h2>
      <p class="text-xl text-indigo-100">
        Installez notre PWA pour une expÃ©rience native optimisÃ©e
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8 text-center">
      <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
        <div class="text-4xl mb-4">âš¡</div>
        <h3 class="text-xl font-semibold mb-3">Ultra-rapide</h3>
        <p class="text-indigo-100">
          Chargement instantanÃ©, mÃªme hors ligne. Cache intelligent des donnÃ©es.
        </p>
      </div>

      <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
        <div class="text-4xl mb-4">ğŸ””</div>
        <h3 class="text-xl font-semibold mb-3">Notifications smart</h3>
        <p class="text-indigo-100">
          Nouvelles primes, deadlines, conseils personnalisÃ©s directement sur votre Ã©cran.
        </p>
      </div>

      <div class="bg-white/10 rounded-xl p-6 backdrop-blur-sm">
        <div class="text-4xl mb-4">ğŸ“²</div>
        <h3 class="text-xl font-semibold mb-3">Installation native</h3>
        <p class="text-indigo-100">
          Installez comme une vraie app. IcÃ´ne sur bureau, mode plein Ã©cran.
        </p>
      </div>
    </div>

    <div class="text-center mt-12">
      <button
        id="pwa-install-button-2"
        class="bg-yellow-400 text-indigo-900 px-8 py-4 rounded-lg font-bold text-lg hover:bg-yellow-300 transition-colors shadow-lg"
        style="display: none;"
      >
        ğŸ“± Installer l'application maintenant
      </button>

      <p class="text-indigo-100 text-sm mt-4">
        Compatible avec tous les navigateurs modernes
      </p>
    </div>
  </div>
</section>

<!-- CTA Final -->
<section class="py-16 bg-gray-900 text-white text-center">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl lg:text-4xl font-bold mb-6">
      PrÃªt Ã  dÃ©couvrir vos primes ?
    </h2>
    <p class="text-xl text-gray-300 mb-8">
      Posez votre premiÃ¨re question Ã  notre assistant IA spÃ©cialisÃ©
    </p>

    <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
      <%= link_to ai_chat_path,
          class: "block sm:inline-block bg-blue-500 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-blue-600 transition-colors" do %>
        ğŸ¤– Commencer maintenant
      <% end %>

      <%= link_to about_path,
          class: "block sm:inline-block bg-gray-700 text-white px-8 py-4 rounded-lg font-semibold hover:bg-gray-600 transition-colors" do %>
        ğŸ‘¥ DÃ©couvrir l'Ã©quipe
      <% end %>
    </div>
  </div>
</section>

<!-- Widget chatbot flottant (sera ajoutÃ© via le layout) -->

<!-- Script PWA Installation -->
<script>
  // DÃ©tection et gestion de l'installation PWA
  let deferredPrompt;
  const installButtons = document.querySelectorAll('[id^="pwa-install-button"]');

  window.addEventListener('beforeinstallprompt', (e) => {
    // EmpÃªcher l'affichage automatique
    e.preventDefault();
    deferredPrompt = e;

    // Afficher nos boutons d'installation
    installButtons.forEach(button => {
      button.style.display = 'block';
    });
  });

  installButtons.forEach(button => {
    button.addEventListener('click', async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;

        if (outcome === 'accepted') {
          console.log('PWA installÃ©e avec succÃ¨s');
        }

        deferredPrompt = null;
        installButtons.forEach(btn => {
          btn.style.display = 'none';
        });
      }
    });
  });

  // Cacher les boutons si dÃ©jÃ  installÃ©
  window.addEventListener('appinstalled', () => {
    installButtons.forEach(button => {
      button.style.display = 'none';
    });
  });
</script>
