<!-- Champs spécifiques aux particuliers -->
<div class="grid md:grid-cols-2 gap-6">
  <div>
    <%= form.label :property_type, "Type de logement *", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :property_type,
        options_for_select([
          ['Maison unifamiliale', 'maison'],
          ['Appartement', 'appartement'],
          ['Duplex/Triplex', 'duplex'],
          ['Maison de maître', 'maitre'],
          ['Fermette/Ancienne ferme', 'fermette'],
          ['Autre', 'autre']
        ], ''),
        { prompt: 'Sélectionnez le type' },
        { class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500", required: true } %>
  </div>

  <div>
    <%= form.label :construction_year, "Année de construction", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.number_field :construction_year, 
        class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
        min: 1800, max: Date.current.year, 
        placeholder: "Ex: 1985" %>
  </div>

  <div>
    <%= form.label :surface_area, "Surface habitable (m²)", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.number_field :surface_area, 
        class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
        min: 1, step: 1,
        placeholder: "Ex: 120" %>
  </div>

  <div>
    <%= form.label :work_type, "Type de travaux souhaités *", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :work_type,
        options_for_select([
          ['Isolation (murs, toiture, sol)', 'isolation'],
          ['Chauffage (chaudière, pompe à chaleur)', 'chauffage'],
          ['Fenêtres et portes', 'fenetres'],
          ['Ventilation', 'ventilation'],
          ['Panneaux solaires', 'solaire'],
          ['Rénovation façade', 'facade'],
          ['Rénovation globale', 'globale'],
          ['Audit énergétique', 'audit'],
          ['Autre', 'autre']
        ], ''),
        { prompt: 'Sélectionnez le type de travaux' },
        { class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500", required: true } %>
  </div>

  <div>
    <%= form.label :current_heating, "Système de chauffage actuel", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :current_heating,
        options_for_select([
          ['Gaz naturel', 'gaz'],
          ['Mazout/Fuel', 'mazout'],
          ['Électricité', 'electricite'],
          ['Pompe à chaleur', 'pac'],
          ['Bois/Pellets', 'bois'],
          ['Charbon', 'charbon'],
          ['Autre/Mixte', 'autre']
        ], ''),
        { prompt: 'Sélectionnez votre système' },
        { class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" } %>
  </div>

  <div>
    <%= form.label :priority, "Priorité de votre projet", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :priority,
        options_for_select([
          ['Économies d\'énergie', 'economies'],
          ['Confort thermique', 'confort'],
          ['Écologie/environnement', 'ecologie'],
          ['Valeur du bien', 'valeur'],
          ['Obligations légales', 'legal'],
          ['Autre', 'autre']
        ], ''),
        { prompt: 'Votre priorité principale' },
        { class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" } %>
  </div>
</div>

<div class="mt-4">
  <%= form.label :income_range, "Tranche de revenus (pour calcul des primes)", class: "block text-sm font-medium text-gray-700 mb-2" %>
  <%= form.select :income_range,
      options_for_select([
        ['Moins de 23.000€ par an', 'tres_modeste'],
        ['23.000€ - 32.000€ par an', 'modeste'],
        ['32.000€ - 55.000€ par an', 'moyen'],
        ['55.000€ - 80.000€ par an', 'confortable'],
        ['Plus de 80.000€ par an', 'eleve'],
        ['Préfère ne pas dire', 'non_precise']
      ], ''),
      { prompt: 'Sélectionnez votre tranche de revenus' },
      { class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" } %>
  <p class="text-sm text-gray-500 mt-1">
    Cette information nous aide à identifier les primes selon vos revenus (confidentiel)
  </p>
</div>

<!-- Aide contextuelle -->
<div class="mt-6 bg-green-50 border border-green-200 rounded-lg p-4">
  <div class="flex items-start">
    <svg class="w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <div>
      <h4 class="text-green-900 font-semibold mb-1">Primes particuliers disponibles</h4>
      <ul class="text-green-800 text-sm space-y-1">
        <li>• Prime habitation jusqu'à 15.000€ selon revenus</li>
        <li>• Prime isolation murs/toiture jusqu'à 6€/m²</li>
        <li>• Prime pompe à chaleur jusqu'à 4.500€</li>
        <li>• Prime audit énergétique remboursé à 100%</li>
        <li>• Prêt rénovation vert à 0% ou 1%</li>
      </ul>
    </div>
  </div>
</div>